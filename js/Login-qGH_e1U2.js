import{j as e}from"./markdown-core-J3SG-zFE.js";import{r as s,u as a,L as r}from"./router-W3ruk9z3.js";import{u as t,B as o}from"../assets/index-DzQGG0sq.js";import{c as i}from"./other-heavy-BrS_fVLY.js";import{I as l}from"./Input-Di4d9ysK.js";import{M as n}from"./Modal-B3wKZjd4.js";import{f as d}from"./auth-BQcWgYWT.js";import"./react-core-eVk5PToZ.js";import"./markdown-syntax-D_e3LpQv.js";import"./query-DQpHUI-d.js";import"./api-axios-ztdpVPaQ.js";import"./animations-framer-BqiiQv6P.js";import"./forms-hook-uaZDsLJv.js";import"./forms-resolvers-o9eYnsGV.js";import"./forms-zod-BHhVsmmU.js";import"./ui-headless-BOwnFwqN.js";import"./XMarkIcon-Bv5SMunc.js";const m=()=>e.jsx("div",{className:"mx-auto h-12 w-auto text-center",children:e.jsx("span",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:"Labnex"})});function c(){const[c,x]=s.useState(""),[u,p]=s.useState(""),{login:h,isLoading:j}=t(),[g,y]=s.useState(!1),[b,f]=s.useState(""),v=a();return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[var(--lnx-bg)] dark:bg-gradient-to-br dark:from-gray-900 dark:to-slate-900 py-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx(m,{}),e.jsxs("div",{className:"bg-[var(--lnx-surface)] dark:bg-gray-800/70 dark:glassmorphic shadow-2xl rounded-xl p-8 sm:p-10 space-y-8 border border-[var(--lnx-border)] dark:border-gray-700/50",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-center text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Sign in to your account"})}),e.jsxs("form",{className:"space-y-6",onSubmit:async e=>{e.preventDefault();try{await h({email:c,password:u}),i.success("Login successful!")}catch(s){i.error(s.response?.data?.message||"Invalid email or password. Please try again.")}},children:[e.jsx(l,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:c,onChange:e=>x(e.target.value),placeholder:"Email address",label:"Email address"}),e.jsx(l,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:u,onChange:e=>p(e.target.value),placeholder:"Password",label:"Password"}),e.jsx("div",{className:"text-right -mt-4 mb-2",children:e.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:"Forgot password?"})}),e.jsx("div",{children:e.jsx(o,{type:"submit",variant:"primary",className:"w-full",isLoading:j,children:"Sign in"})})]}),e.jsxs("div",{className:"text-sm text-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Don't have an account? "}),e.jsx(r,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-150",children:"Sign up"})]})]})]}),e.jsxs(n,{isOpen:g,onClose:()=>y(!1),title:"Reset Password",size:"sm",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 text-sm",children:"Enter the email associated with your account and we'll send you a link to reset your password."}),e.jsx(l,{id:"forgotEmail",name:"forgotEmail",type:"email",placeholder:"you@example.com",value:b,onChange:e=>f(e.target.value),label:"Email address"}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx(o,{variant:"tertiary",onClick:()=>y(!1),children:"Cancel"}),e.jsx(o,{variant:"primary",onClick:async()=>{if(b)try{await d(b),i.success("Password reset link sent!"),y(!1),v(`/reset-requested?email=${encodeURIComponent(b)}`)}catch(e){i.success("If the email exists, a reset link has been sent."),y(!1)}else i.error("Please enter your email")},children:"Send Reset Link"})]})]})]})}export{c as Login};
