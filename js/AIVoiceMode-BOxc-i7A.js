import{j as e}from"./markdown-core-J3SG-zFE.js";import{r as s,u as t}from"./router-W3ruk9z3.js";import{J as a,K as r,M as l,P as n,E as o}from"../assets/index-DzQGG0sq.js";import"./react-core-eVk5PToZ.js";import"./markdown-syntax-D_e3LpQv.js";import"./query-DQpHUI-d.js";import"./api-axios-ztdpVPaQ.js";import"./animations-framer-BqiiQv6P.js";import"./other-heavy-BrS_fVLY.js";import"./forms-hook-uaZDsLJv.js";import"./forms-resolvers-o9eYnsGV.js";import"./forms-zod-BHhVsmmU.js";const i=()=>{const[i,d]=s.useState("idle"),[c,u]=s.useState(""),[m,p]=s.useState(""),[x,b]=s.useState(null),[g,h]=s.useState(!1),f=t(),{speak:j,isSpeaking:w}=a(),v=s.useCallback(async e=>{d("processing"),u(e);if(["create","update","assign","edit","delete"].some(s=>e.toLowerCase().includes(s)))return p("I'll open the AI chat to continue."),d("speaking"),await j("I'll open the AI chat to continue."),void f(`/ai?voiceCommand=${encodeURIComponent(e)}`);const s=`You are assisting with a QA project called 'Labnex CLI'. The user has tasks and test cases currently active. Respond concisely and naturally to voice queries.\n\nUser: ${e}`;try{const{reply:e}=await r.sendMessage(s);p(e),d("speaking"),await j(e,()=>{d("listening"),u(""),p(""),y()})}catch(t){b("Sorry, I had trouble getting a response."),d("error")}},[f,j]),{start:y,stop:N,isListening:k,isSupported:_}=l({enabled:g,onResult:v,onError:e=>{b(e),d("error")},continuous:!1,autoRestart:!1});s.useEffect(()=>()=>{N()},[N]),s.useEffect(()=>{if(g){const e=setTimeout(()=>{y()},0);return()=>clearTimeout(e)}N()},[g]),s.useEffect(()=>{},[]);const S=()=>"processing"===i||"listening"===i?c:"speaking"===i?m:"";return e.jsxs("div",{className:"relative w-full h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-purple-500/10 rounded-full blur-xl animate-pulse"}),e.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 bg-blue-500/10 rounded-full blur-xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute bottom-32 left-32 w-28 h-28 bg-indigo-500/10 rounded-full blur-xl animate-pulse delay-2000"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-36 h-36 bg-cyan-500/10 rounded-full blur-xl animate-pulse delay-500"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px] [mask-image:radial-gradient(ellipse_50%_50%_at_50%_50%,black_40%,transparent_100%)]"})]}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full px-6",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-5xl md:text-7xl font-light text-white mb-4 tracking-wide",children:["Labnex",e.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent font-medium ml-4",children:"AI"})]}),e.jsx("div",{className:"h-8 flex items-center justify-center",children:e.jsx("p",{className:"text-lg md:text-xl text-slate-300 font-light",children:(()=>{switch(i){case"listening":return"Listening...";case"processing":return"Processing...";case"speaking":return"Speaking...";case"error":return x||"An error occurred";default:return"Tap to start conversation"}})()})})]}),e.jsxs("div",{className:"relative mb-12",children:[k&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-full border border-purple-500/30 animate-ping scale-150"}),e.jsx("div",{className:"absolute inset-0 rounded-full border border-purple-500/20 animate-ping scale-125 delay-75"}),e.jsx("div",{className:"absolute inset-0 rounded-full border border-purple-500/10 animate-ping scale-110 delay-150"})]}),e.jsxs("button",{onClick:()=>{if(!_)return d("error"),void b("Voice input is not supported by your browser.");k||w?(N(),h(!1),d("idle"),u(""),p("")):(b(null),d("listening"),u(""),p(""),h(!0))},className:"relative group w-32 h-32 md:w-40 md:h-40 rounded-full flex items-center justify-center transition-all duration-500 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-purple-500/30 "+(k?"bg-gradient-to-br from-purple-500 to-indigo-600 shadow-2xl shadow-purple-500/25":w?"bg-gradient-to-br from-cyan-500 to-blue-600 shadow-2xl shadow-cyan-500/25":"error"===i?"bg-gradient-to-br from-red-500 to-pink-600 shadow-2xl shadow-red-500/25":"bg-gradient-to-br from-slate-700 to-slate-800 shadow-2xl shadow-slate-900/50 hover:from-slate-600 hover:to-slate-700"),disabled:"processing"===i,children:[e.jsx("div",{className:"absolute inset-2 rounded-full transition-all duration-500 "+(k?"bg-gradient-to-br from-purple-400/20 to-transparent":w?"bg-gradient-to-br from-cyan-400/20 to-transparent":"bg-gradient-to-br from-slate-600/20 to-transparent")}),w?e.jsx(n,{className:"w-16 h-16 md:w-20 md:h-20 text-white relative z-10"}):e.jsx(o,{className:"w-16 h-16 md:w-20 md:h-20 text-white relative z-10"}),"processing"===i&&e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-white animate-spin"})]})]}),e.jsx("div",{className:"w-full max-w-4xl mx-auto text-center min-h-[120px] flex items-center justify-center",children:S()&&e.jsx("div",{className:"transition-all duration-700 transform "+(S()?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-sm rounded-2xl px-8 py-6 border border-slate-700/50 shadow-2xl",children:e.jsx("p",{className:"text-xl md:text-2xl text-slate-100 leading-relaxed font-light",children:S()})})})}),e.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-3 h-3 rounded-full transition-all duration-300 "+(k?"bg-purple-400 shadow-lg shadow-purple-400/50":"bg-slate-600")}),e.jsx("div",{className:"w-3 h-3 rounded-full transition-all duration-300 "+("processing"===i?"bg-yellow-400 shadow-lg shadow-yellow-400/50":"bg-slate-600")}),e.jsx("div",{className:"w-3 h-3 rounded-full transition-all duration-300 "+(w?"bg-cyan-400 shadow-lg shadow-cyan-400/50":"bg-slate-600")})]})}),"error"===i&&e.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 w-full max-w-md px-6",children:e.jsxs("div",{className:"bg-red-900/20 backdrop-blur-sm border border-red-500/30 rounded-xl px-6 py-4 text-center",children:[e.jsx("p",{className:"text-red-300 text-sm",children:x}),e.jsx("button",{onClick:()=>{b(null),d("idle")},className:"mt-2 text-red-400 hover:text-red-300 text-sm underline",children:"Try again"})]})})]})]})};export{i as default};
