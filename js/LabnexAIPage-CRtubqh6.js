const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DzQGG0sq.js","js/markdown-core-J3SG-zFE.js","js/react-core-eVk5PToZ.js","js/router-W3ruk9z3.js","js/markdown-syntax-D_e3LpQv.js","js/query-DQpHUI-d.js","js/api-axios-ztdpVPaQ.js","js/animations-framer-BqiiQv6P.js","js/other-heavy-BrS_fVLY.js","js/forms-hook-uaZDsLJv.js","js/forms-resolvers-o9eYnsGV.js","js/forms-zod-BHhVsmmU.js","css/index-d-nqLAn7.css"])))=>i.map(i=>d[i]);
import{j as e}from"./markdown-core-J3SG-zFE.js";import{r as t,R as s,u as a,f as n}from"./router-W3ruk9z3.js";import{t as r,b as i,z as l,C as o,D as d,E as c,G as m,A as p,H as x,T as h,V as u,I as g}from"../assets/index-DzQGG0sq.js";import{_ as b}from"./markdown-syntax-D_e3LpQv.js";import{F as f}from"./ChevronDownIcon-B0SwXV0E.js";import{F as v}from"./PlusCircleIcon-B2u9WL21.js";import{F as j}from"./PencilIcon-CwciGq70.js";import{F as w}from"./ArrowDownTrayIcon-CalA_AYt.js";import{F as y}from"./TrashIcon-S028_C7U.js";import{F as N}from"./XMarkIcon-Bv5SMunc.js";import{F as k}from"./ArrowLeftIcon-BrDI35O3.js";import{F as S}from"./CheckIcon-BQVobhmf.js";import{c as C}from"./other-heavy-BrS_fVLY.js";import"./react-core-eVk5PToZ.js";import"./query-DQpHUI-d.js";import"./api-axios-ztdpVPaQ.js";import"./animations-framer-BqiiQv6P.js";import"./forms-hook-uaZDsLJv.js";import"./forms-resolvers-o9eYnsGV.js";import"./forms-zod-BHhVsmmU.js";function E({title:e,titleId:s,...a},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const A=t.forwardRef(E);function I({title:e,titleId:s,...a},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{fillRule:"evenodd",d:"M2.25 6a3 3 0 0 1 3-3h13.5a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V6Zm3.97.97a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 0 1-1.06-1.06l1.72-1.72-1.72-1.72a.75.75 0 0 1 0-1.06Zm4.28 4.28a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z",clipRule:"evenodd"}))}const T=t.forwardRef(I);function z({title:e,titleId:s,...a},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}const L=t.forwardRef(z),M=[{name:"projects",description:"List your Labnex projects",args:[]},{name:"create-project",alias:"createProject",description:"Create a new project",args:["name"],flags:["--desc","--code"]},{name:"tasks",description:"List tasks for a project",args:["project"]},{name:"new-task",alias:"createTask",description:"Create a new task for the current or specified project",args:["projectId","title"],flags:["--due","--assignee","--priority"]},{name:"notes",description:"List your recent notes",args:[]},{name:"note",alias:"createNote",description:"Add a personal note",args:["content"],flags:[]},{name:"snippets",description:"List your recent code snippets",args:[]},{name:"add-snippet",description:"Create a new code snippet",args:["language","title","code"]},{name:"summarize",alias:"summarize",description:"Summarize current activity",args:[]},{name:"help",description:"Show available commands and help",args:[]},{name:"voice",description:"Switch to voice mode",args:[]}],R=t.forwardRef(({query:s,onSelect:a,onKeyDown:n},i)=>{const[l,o]=t.useState(0);if(!s.startsWith("/"))return null;const d=s.slice(1).toLowerCase(),c=M.filter(e=>e.name.toLowerCase().includes(d)||e.description.toLowerCase().includes(d)).slice(0,8);if(0===c.length)return null;t.useEffect(()=>{o(0)},[c.length,d]);return t.useImperativeHandle(i,()=>({handleExternalKeyDown:e=>((e=>{switch(e.key){case"ArrowDown":e.preventDefault(),o(e=>(e+1)%c.length);break;case"ArrowUp":e.preventDefault(),o(e=>0===e?c.length-1:e-1);break;case"Enter":case"Tab":e.preventDefault(),c[l]&&a(c[l].name)}n&&n(e)})(e),["ArrowDown","ArrowUp","Enter","Tab"].includes(e.key))})),e.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 z-[120]",children:e.jsxs("div",{className:"bg-gradient-to-r from-slate-800/95 to-slate-700/95 backdrop-blur-md border border-slate-600/50 rounded-xl shadow-2xl shadow-purple-500/10 max-w-md mx-auto",children:[e.jsx("div",{className:"px-4 py-2 border-b border-slate-600/50 bg-slate-700/50 rounded-t-xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{className:"h-4 w-4 text-purple-400"}),e.jsx("span",{className:"text-xs font-medium text-purple-400",children:"Available Commands"}),e.jsx("span",{className:"text-xs text-slate-400 ml-auto",children:"â†‘â†“ navigate â€¢ â†µ select"})]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto py-1",children:c.map((t,s)=>e.jsxs("button",{className:"block w-full text-left px-4 py-3 transition-all duration-150 "+(s===l?"bg-gradient-to-r from-purple-600/30 to-indigo-600/30 border-l-2 border-purple-400":"hover:bg-slate-700/50"),onMouseDown:()=>a(t.name),onMouseEnter:()=>o(s),children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("span",{className:"font-mono text-sm font-semibold "+(s===l?"text-purple-300":"text-slate-300"),children:["/",t.name]}),e.jsx("span",{className:"text-xs leading-5 "+(s===l?"text-slate-200":"text-slate-400"),children:t.description})]}),t.args&&t.args.length>0&&e.jsx("div",{className:"mt-1 text-xs text-slate-500 font-mono",children:t.args.map(e=>`<${e}>`).join(" ")})]},t.name))}),e.jsx("div",{className:"px-4 py-2 border-t border-slate-600/50 bg-slate-700/30 rounded-b-xl",children:e.jsxs("span",{className:"text-xs text-slate-500",children:[c.length," command",1!==c.length?"s":""," found"]})})]})})});R.displayName="SlashCommandAutocomplete";const P=()=>{const{sessions:t,currentSessionId:a,switchSession:n,createNewSession:r}=i(),[o,d]=s.useState(!1),c=t.find(e=>e.id===a);return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:"flex items-center gap-1 text-sm font-medium max-w-[120px] sm:max-w-none truncate",onClick:()=>d(e=>!e),children:[e.jsx("span",{className:"truncate",children:c?.title||"Untitled Session"}),e.jsx(f,{className:"h-4 w-4"})]}),o&&e.jsxs("div",{className:"absolute z-[120] mt-1 w-64 bg-slate-800 border border-slate-700 rounded shadow-lg",children:[e.jsxs("button",{onClick:r,className:"flex items-center w-full px-3 py-2 hover:bg-slate-700 text-left text-sm gap-2",children:[e.jsx(v,{className:"h-4 w-4"})," New Session"]}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:t.map(s=>e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 hover:bg-slate-700 text-sm gap-2",children:[e.jsx("button",{onClick:()=>{n(s.id),d(!1)},className:"flex-1 text-left overflow-hidden text-ellipsis whitespace-nowrap",children:s.title}),e.jsx("button",{onClick:()=>(async e=>{const s=prompt("New session title:",t.find(t=>t.id===e)?.title||"");s&&(await l.renameSession(e,s),window.location.reload())})(s.id),className:"text-indigo-400 hover:text-indigo-300",children:e.jsx(j,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>(async e=>{let s=1,a=[];for(;;){const t=await b(()=>import("../assets/index-DzQGG0sq.js").then(e=>e.U),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(t=>t.aiMessagesApi.fetchMessages(void 0,s,100,e));if(a=a.concat(t),t.length<100)break;s+=1}const n=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`${t.find(t=>t.id===e)?.title||"session"}.json`,i.click(),URL.revokeObjectURL(r)})(s.id),className:"text-green-400 hover:text-green-300",children:e.jsx(w,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>(async e=>{window.confirm("Delete this session?")&&(await l.deleteSession(e),window.location.reload())})(s.id),className:"text-red-400 hover:text-red-300",children:e.jsx(y,{className:"h-4 w-4"})})]},s.id))})]})]})},D=({steps:s,onComplete:a,onSkip:n,title:r="Welcome to Labnex",showProgress:i=!0,allowSkip:l=!0,autoProgress:d=!1,className:c=""})=>{const[m,p]=t.useState(0),[x,h]=t.useState(!1),[u,g]=t.useState(null);t.useEffect(()=>{const e=setTimeout(()=>h(!0),500);return()=>clearTimeout(e)},[]),t.useEffect(()=>{if(s[m]?.targetElement){const e=document.querySelector(s[m].targetElement);e&&(g(e),e.classList.add("tutorial-highlight"),e.scrollIntoView({behavior:"smooth",block:"center"}))}return()=>{u&&(u.classList.remove("tutorial-highlight"),g(null))}},[m,s,u]),t.useEffect(()=>{if(d&&m<s.length-1){const e=setTimeout(()=>{p(e=>e+1)},5e3);return()=>clearTimeout(e)}},[d,m,s.length]);const b=()=>{h(!1),u&&u.classList.remove("tutorial-highlight"),setTimeout(a,300)},f=()=>{h(!1),u&&u.classList.remove("tutorial-highlight"),setTimeout(n,300)},v=s[m],j=v?.icon||L,w=m===s.length-1;return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:"\n        .tutorial-highlight {\n          position: relative;\n          z-index: 9999;\n          box-shadow: 0 0 0 4px rgba(147, 51, 234, 0.4), 0 0 20px rgba(147, 51, 234, 0.3) !important;\n          border-radius: 8px;\n          animation: tutorialPulse 2s infinite;\n        }\n        \n        @keyframes tutorialPulse {\n          0%, 100% { \n            box-shadow: 0 0 0 4px rgba(147, 51, 234, 0.4), 0 0 20px rgba(147, 51, 234, 0.3);\n          }\n          50% { \n            box-shadow: 0 0 0 8px rgba(147, 51, 234, 0.6), 0 0 30px rgba(147, 51, 234, 0.5);\n          }\n        }\n        \n        .tutorial-backdrop {\n          background: radial-gradient(ellipse at center, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.8) 100%);\n        }\n      "}),e.jsx("div",{className:`fixed inset-0 tutorial-backdrop backdrop-blur-sm z-[9998] flex items-center justify-center p-4 transition-all duration-500 ${x?"opacity-100":"opacity-0 pointer-events-none"} ${c}`,role:"dialog","aria-modal":"true","aria-labelledby":"tutorial-title",children:e.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-md rounded-2xl p-6 max-w-md w-full border border-slate-700/50 shadow-2xl transition-all duration-500 "+(x?"scale-100 translate-y-0":"scale-95 translate-y-8"),onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-purple-600/20 border border-purple-500/30",children:e.jsx(j,{className:"h-6 w-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h2",{id:"tutorial-title",className:"text-lg font-semibold text-white",children:r}),i&&e.jsxs("p",{className:"text-sm text-slate-400",children:["Step ",m+1," of ",s.length]})]})]}),l&&e.jsx("button",{onClick:f,className:"p-1 rounded-full hover:bg-slate-800 transition-colors","aria-label":"Skip tutorial",children:e.jsx(N,{className:"h-5 w-5 text-slate-400"})})]}),i&&e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-indigo-500 rounded-full transition-all duration-500 ease-out",style:{width:(m+1)/s.length*100+"%"}})})}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:v?.title}),e.jsx("p",{className:"text-slate-300 leading-relaxed",children:v?.description}),v?.content&&e.jsx("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700/30",children:v.content}),v?.action&&e.jsx("button",{onClick:v.action.onClick,className:"w-full px-4 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium transition-colors",children:v.action.label})]}),e.jsxs("div",{className:"flex justify-between items-center gap-3",children:[e.jsx("div",{className:"flex items-center gap-2",children:i&&e.jsx("div",{className:"flex gap-1",children:s.map((t,s)=>e.jsx("button",{onClick:()=>p(s),className:"w-2 h-2 rounded-full transition-all duration-300 "+(s===m?"bg-purple-500 w-6":s<m?"bg-purple-600/70":"bg-slate-600"),"aria-label":`Go to step ${s+1}`},s))})}),e.jsxs("div",{className:"flex gap-2",children:[m>0&&e.jsxs("button",{onClick:()=>{m>0&&p(m-1)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-300 text-sm transition-colors","aria-label":"Previous step",children:[e.jsx(k,{className:"h-4 w-4"}),"Previous"]}),e.jsx("button",{onClick:()=>{m<s.length-1?p(m+1):b()},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium transition-colors","aria-label":w?"Complete tutorial":"Next step",children:w?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"h-4 w-4"}),"Complete"]}):e.jsxs(e.Fragment,{children:["Next",e.jsx(o,{className:"h-4 w-4"})]})})]})]}),l&&e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{onClick:f,className:"text-xs text-slate-500 hover:text-slate-400 transition-colors",children:"Skip tutorial"})})]})})]})},F=({onComplete:s,onSkip:a})=>{const{sendMessage:n}=i(),[r,l]=t.useState(!1),o=[{id:"welcome",title:"Welcome to Labnex AI Chat",description:"Your intelligent assistant for project management, coding help, and test automation. Let's explore the key features together.",icon:d,content:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-300",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{children:"AI-powered assistance for your development workflow"})]}),e.jsx("div",{className:"text-xs text-slate-400",children:"ðŸ’¡ Tip: You can always access this tutorial from the help menu"})]})},{id:"input-area",title:"Chat Input & Commands",description:"Type your questions or use slash commands for specific actions. The AI understands natural language and project context.",targetElement:'textarea[placeholder*="Ask"], textarea[placeholder*="Type"]',icon:T,content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-green-300",children:e.jsx("strong",{children:"Try these examples:"})}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("div",{className:"bg-slate-900/50 p-2 rounded font-mono",children:'"Create a test case for user login"'}),e.jsx("div",{className:"bg-slate-900/50 p-2 rounded font-mono",children:'"/help" - Show available commands'}),e.jsx("div",{className:"bg-slate-900/50 p-2 rounded font-mono",children:'"Analyze my project\'s recent activity"'})]})]}),action:{label:r?"âœ… Message sent! Next â†’":'Try sending "Hello, AI!" now',onClick:async()=>{if(!r)try{await n("Hello, AI! I'm learning how to use Labnex."),l(!0)}catch(e){}}}},{id:"voice-controls",title:"Voice Commands",description:"Use voice input for hands-free interaction. Perfect for when you're coding or away from keyboard.",targetElement:'[title*="voice"], [title*="Voice"], button[aria-label*="voice"]',icon:c,content:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-emerald-300",children:[e.jsx(c,{className:"h-4 w-4"}),e.jsx("span",{children:"Click the microphone to start voice input"})]}),e.jsxs("div",{className:"text-xs text-slate-400",children:[e.jsx("strong",{children:"Voice Tips:"}),e.jsxs("ul",{className:"mt-1 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Speak clearly and naturally"}),e.jsx("li",{children:'Use "Create test case for..." to generate tests'}),e.jsx("li",{children:'Try "What\'s my project status?"'})]})]})]})},{id:"sessions",title:"Chat Sessions",description:"Organize conversations by topics or projects. Each session maintains context and history.",targetElement:'[data-testid="session-dropdown"], button[title*="session"]',content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-blue-300",children:e.jsx("strong",{children:"Session Benefits:"})}),e.jsxs("ul",{className:"text-xs text-slate-300 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Keep conversations organized"}),e.jsx("li",{children:"Maintain context per project"}),e.jsx("li",{children:"Access chat history anytime"}),e.jsx("li",{children:"Share sessions with team members"})]})]})},{id:"quick-actions",title:"Quick Actions",description:"Use the toolbar buttons for common tasks and enhanced functionality.",targetElement:'.md\\:flex.items-center.gap-2, [data-testid="quick-actions"]',content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-indigo-300",children:e.jsx("strong",{children:"Available Actions:"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[e.jsx("div",{className:"font-medium text-purple-300",children:"ðŸ“Š Summarize"}),e.jsx("div",{className:"text-slate-400",children:"Project insights"})]}),e.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[e.jsx("div",{className:"font-medium text-emerald-300",children:"ðŸŽ¤ Voice Mode"}),e.jsx("div",{className:"text-slate-400",children:"Hands-free chat"})]})]})]})},{id:"ai-capabilities",title:"AI Capabilities",description:"Discover what Labnex AI can help you with in your development workflow.",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-yellow-300 font-medium",children:"ðŸš€ What can I help you with?"}),e.jsxs("div",{className:"grid gap-3 text-xs",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium text-emerald-300",children:"ðŸ§ª Testing"}),e.jsx("div",{className:"text-slate-300",children:"Create test cases, analyze failures, optimize test suites"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium text-blue-300",children:"ðŸ’¼ Project Management"}),e.jsx("div",{className:"text-slate-300",children:"Track progress, manage tasks, team coordination"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium text-purple-300",children:"ðŸ’¡ Code Help"}),e.jsx("div",{className:"text-slate-300",children:"Debug issues, code review, best practices"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium text-indigo-300",children:"ðŸ“ˆ Analytics"}),e.jsx("div",{className:"text-slate-300",children:"Performance insights, trend analysis, recommendations"})]})]})]})},{id:"keyboard-shortcuts",title:"Keyboard Shortcuts",description:"Master these shortcuts to boost your productivity with Labnex AI.",content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-orange-300 font-medium",children:"âŒ¨ï¸ Essential Shortcuts"}),e.jsxs("div",{className:"grid gap-2 text-xs font-mono",children:[e.jsxs("div",{className:"flex justify-between bg-slate-900/50 p-2 rounded",children:[e.jsx("span",{className:"text-slate-300",children:"Send message"}),e.jsx("span",{className:"text-yellow-300",children:"Enter"})]}),e.jsxs("div",{className:"flex justify-between bg-slate-900/50 p-2 rounded",children:[e.jsx("span",{className:"text-slate-300",children:"New line"}),e.jsx("span",{className:"text-yellow-300",children:"Shift + Enter"})]}),e.jsxs("div",{className:"flex justify-between bg-slate-900/50 p-2 rounded",children:[e.jsx("span",{className:"text-slate-300",children:"Voice mode"}),e.jsx("span",{className:"text-yellow-300",children:"Ctrl + Shift + V"})]}),e.jsxs("div",{className:"flex justify-between bg-slate-900/50 p-2 rounded",children:[e.jsx("span",{className:"text-slate-300",children:"Escape"}),e.jsx("span",{className:"text-yellow-300",children:"Close dialogs"})]})]})]})},{id:"completion",title:"You're All Set!",description:"You now know the basics of Labnex AI Chat. Start exploring and let AI supercharge your development workflow!",icon:L,content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600/20 to-indigo-600/20 rounded-lg border border-purple-500/30",children:[e.jsx(L,{className:"h-5 w-5 text-purple-400"}),e.jsx("span",{className:"text-purple-300 font-medium",children:"Ready to AI-power your workflow!"})]})}),e.jsx("div",{className:"text-xs text-slate-400 text-center",children:'ðŸ’¡ Pro tip: Ask me "What should I work on today?" to get personalized recommendations based on your project activity.'}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"text-sm text-slate-300",children:"Quick start suggestions:"}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[e.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded text-xs",children:'"Show project status"'}),e.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded text-xs",children:'"Create a test case"'}),e.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded text-xs",children:'"Help me debug"'})]})]})]}),action:{label:"Start using Labnex AI!",onClick:()=>{setTimeout(()=>{const e=document.querySelector('textarea[placeholder*="Ask"], textarea[placeholder*="Type"]');e&&e.focus()},500)}}}];return e.jsx(D,{title:"AI Chat Tutorial",steps:o,onComplete:()=>{localStorage.setItem("labnex_ai_chat_tutorial_completed","true"),s()},onSkip:()=>{localStorage.setItem("labnex_ai_chat_tutorial_completed","true"),a()},showProgress:!0,allowSkip:!0,className:"z-[10000]"})},_=()=>{const{messages:s,sendMessage:r,isTyping:l,isScanning:o,hasMore:b,loadOlder:f}=i(),v=t.useRef(null),j=t.useRef(null),w=t.useRef(null),y=t.useRef(null),[N,k]=t.useState(""),[S,E]=t.useState(!1),[I,z]=t.useState(!1),[M,D]=t.useState(!1),[_,H]=t.useState(!1),V=a(),[O]=n(),U=O.get("voiceCommand"),[$,K]=t.useState(!1);t.useEffect(()=>{if(!localStorage.getItem("labnex_ai_chat_tutorial_completed")){const e=setTimeout(()=>H(!0),1500);return()=>clearTimeout(e)}},[]),t.useEffect(()=>{v.current?.scrollIntoView({behavior:"smooth"})},[s,l,o]),t.useEffect(()=>{const e=e=>{e.ctrlKey&&e.shiftKey&&"v"===e.key.toLowerCase()&&V("/ai/voice"),"Escape"===e.key&&S&&E(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[V,S]);const W=t.useCallback(()=>{w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{j.current&&(j.current.style.height="auto",j.current.style.height=Math.min(j.current.scrollHeight,120)+"px")},50)},[]);t.useEffect(()=>{W()},[N,W]),t.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]),t.useEffect(()=>{z(N.startsWith("/")&&N.length>=1)},[N]),t.useEffect(()=>{if("failover"!==O.get("voiceSession"))return;if(sessionStorage.getItem("voiceFailoverHandled"))return;const e=window.__voiceMode,t=e?.getHealth?.();if(!t)return;const{lastSystemMessage:s,lastFatalError:a,srRetryCount:n,ttsRetryCount:i}=t,l=e?.getState?.().lastTranscript||"N/A";r(`ðŸ›  Voice mode encountered an issue and redirected you here.\nâ€¢ You said: "${l}"\nâ€¢ The system responded: "${s}"\nâ€¢ Then: âŒ ${a} after ${"sr-failed"===a?n:i} attempts`);r("âœ¨ Want to try Voice Mode again? [Resume Voice Mode](/ai/voice)"),sessionStorage.setItem("voiceFailoverHandled","true")},[]),t.useEffect(()=>{U&&!$&&(async()=>{try{await r(U)}catch(e){}finally{K(!0)}})()},[U,$]);const Y=async()=>{try{D(!1),await r("Summarize the current project activity and provide key insights."),E(!1)}catch(e){D(!0),C.error("Failed to generate summary. Please try again.")}},Z=()=>{V("/ai/voice"),E(!1)};return e.jsxs("div",{className:"relative flex flex-col h-full w-full bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 min-h-screen overflow-hidden",children:[e.jsxs("header",{className:"flex items-center justify-between px-3 sm:px-6 py-2 sm:py-4 border-b border-slate-700/50 bg-gradient-to-r from-slate-900/95 via-slate-800/95 to-slate-900/95 backdrop-blur-md sticky top-0 z-30 shadow-lg shadow-purple-500/5 h-14 sm:h-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 min-w-0",children:[e.jsxs("div",{className:"relative p-1.5 sm:p-2 bg-gradient-to-r from-purple-500/20 to-indigo-500/20 rounded-lg sm:rounded-xl border border-purple-500/30",children:[e.jsx(d,{className:"h-4 w-4 sm:h-6 sm:w-6 text-purple-400"}),e.jsx("div",{className:"absolute -top-0.5 -right-0.5 sm:-top-1 sm:-right-1 h-2 w-2 sm:h-3 sm:w-3 bg-emerald-400 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-sm sm:text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-purple-300 to-indigo-400 truncate",children:"Labnex AI Chat"}),e.jsx("p",{className:"text-xs text-slate-400 hidden sm:block",children:"Powered by Advanced AI"})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx(P,{})})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsx("button",{onClick:()=>H(!0),className:"px-3 py-2 rounded-xl bg-slate-800/60 hover:bg-slate-700/60 text-slate-300 text-sm font-medium transition-all duration-200 hover:scale-[1.02] border border-slate-600/30",title:"Show tutorial",children:"?"}),e.jsxs("button",{className:"px-3 py-2 rounded-xl bg-gradient-to-r from-indigo-600/80 to-purple-600/80 hover:from-indigo-600 hover:to-purple-600 text-white text-sm font-medium transition-all duration-200 hover:scale-[1.02] shadow-lg shadow-purple-500/20 border border-purple-500/30",onClick:Y,children:[e.jsx(L,{className:"h-4 w-4 inline mr-1"}),"Summarize"]}),e.jsxs("button",{onClick:Z,className:"px-3 py-2 flex items-center gap-2 rounded-xl bg-gradient-to-r from-emerald-600/80 to-teal-600/80 hover:from-emerald-600 hover:to-teal-600 text-white text-sm font-medium transition-all duration-200 hover:scale-[1.02] shadow-lg shadow-emerald-500/20 border border-emerald-500/30",children:[e.jsx(c,{className:"h-4 w-4"}),"Voice Mode"]})]}),e.jsx("button",{onClick:()=>E(!S),className:"md:hidden p-2 rounded-lg bg-slate-800/60 hover:bg-slate-700/60 transition-all duration-200 border border-slate-600/30 backdrop-blur-sm touch-manipulation","aria-label":"Menu",children:S?e.jsx(m,{className:"h-5 w-5 text-white"}):e.jsx(A,{className:"h-5 w-5 text-white"})})]}),S&&e.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-[100] backdrop-blur-sm",onClick:()=>E(!1)}),S&&e.jsxs("div",{className:"md:hidden fixed top-14 left-0 right-0 bg-gradient-to-r from-slate-900/98 via-slate-800/98 to-slate-900/98 backdrop-blur-md border-b border-slate-700/50 z-[110] px-3 py-3 space-y-3 shadow-2xl animate-in slide-in-from-top-5 duration-200 max-h-[calc(100vh-56px)] overflow-y-auto",children:[e.jsx("div",{className:"mb-3",children:e.jsx(P,{})}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("button",{className:"w-full px-4 py-3 rounded-xl bg-gradient-to-r from-indigo-600/80 to-purple-600/80 hover:from-indigo-600 hover:to-purple-600 active:scale-95 text-white text-sm font-medium transition-all duration-200 shadow-lg shadow-purple-500/20 border border-purple-500/30 min-h-[48px] flex items-center justify-center touch-manipulation",onClick:()=>{Y(),E(!1)},children:[e.jsx(L,{className:"h-4 w-4 inline mr-2"}),"Summarize Project"]}),e.jsxs("button",{onClick:()=>{Z(),E(!1)},className:"w-full px-4 py-3 flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-emerald-600/80 to-teal-600/80 hover:from-emerald-600 hover:to-teal-600 active:scale-95 text-white text-sm font-medium transition-all duration-200 shadow-lg shadow-emerald-500/20 border border-emerald-500/30 min-h-[48px] touch-manipulation",children:[e.jsx(c,{className:"h-4 w-4"}),"Voice Mode"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide px-1",children:"Quick Commands"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:[{label:"ðŸ“Š Project Summary",command:"Provide a comprehensive summary of the current project status and key metrics."},{label:"ðŸ” Code Review",command:"Review the latest code changes and suggest improvements."},{label:"ðŸš€ Deploy Guide",command:"Show me the deployment checklist and best practices."},{label:"ðŸ› Debug Help",command:"Help me debug the current issue I'm facing."}].map((t,s)=>e.jsx("button",{onClick:()=>{(async e=>{try{D(!1),await r(e),E(!1)}catch(t){D(!0),C.error("Failed to execute command. Please try again.")}})(t.command),E(!1)},className:"w-full px-3 py-3 text-sm text-left rounded-lg bg-slate-800/50 hover:bg-slate-700/50 active:bg-slate-700/70 text-slate-300 transition-colors border border-slate-600/30 min-h-[48px] flex items-center touch-manipulation",children:t.label},s))})]}),e.jsx("button",{onClick:()=>{H(!0),E(!1)},className:"w-full px-3 py-2 rounded-lg bg-slate-800/60 hover:bg-slate-700/60 active:bg-slate-700/80 text-slate-300 text-sm font-medium transition-all duration-200 border border-slate-600/30 touch-manipulation",children:"ðŸ“š Show Tutorial"})]}),e.jsx("style",{children:"\n        @keyframes slide-in-from-top-5 {\n          from {\n            transform: translateY(-20px);\n            opacity: 0;\n          }\n          to {\n            transform: translateY(0);\n            opacity: 1;\n          }\n        }\n\n        .animate-in {\n          animation-fill-mode: both;\n        }\n\n        .slide-in-from-top-5 {\n          animation-name: slide-in-from-top-5;\n        }\n\n        .duration-200 {\n          animation-duration: 200ms;\n        }\n\n        /* Mobile touch improvements */\n        @media (hover: none) and (pointer: coarse) {\n          button:hover {\n            background-color: inherit !important;\n          }\n          \n          button:active {\n            transform: scale(0.95) !important;\n          }\n        }\n      "}),e.jsxs("div",{className:"flex-1 overflow-y-auto overscroll-behavior-y-contain relative",children:[e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-500/10 via-transparent to-indigo-500/10"})}),e.jsx("div",{className:"relative px-3 sm:px-6 lg:px-8 py-3 sm:py-6 space-y-3 sm:space-y-6",children:e.jsxs("div",{className:"max-w-4xl w-full mx-auto flex flex-col gap-3 sm:gap-6",children:[b&&e.jsx("button",{onClick:f,className:"self-center text-xs sm:text-sm text-purple-400 hover:text-purple-300 active:text-purple-500 underline py-2 px-4 rounded-xl hover:bg-slate-800/50 active:bg-slate-800/70 transition-all duration-200 border border-purple-500/20 bg-slate-900/30 backdrop-blur-sm touch-manipulation",children:"Load older messages"}),s.map(t=>"assistant"===t.role?e.jsx("div",{className:"w-full",children:e.jsx(p,{message:t.content,staticRender:!0})},t.id):e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"max-w-[90%] sm:max-w-[85%] lg:max-w-prose",children:e.jsx("div",{className:"inline-block bg-gradient-to-r from-purple-600/90 via-indigo-600/90 to-purple-600/90 text-white px-3 sm:px-4 py-2.5 sm:py-3 rounded-2xl rounded-tr-lg text-sm sm:text-base whitespace-pre-wrap shadow-lg shadow-purple-500/20 break-words border border-purple-500/30 backdrop-blur-sm",children:t.content})})},t.id)),o&&e.jsx("div",{className:"w-full",children:e.jsx(x,{})}),l&&!o&&e.jsx("div",{className:"w-full",children:e.jsx(h,{})}),e.jsx("div",{ref:v})]})})]}),e.jsx("div",{className:"sticky bottom-0 left-0 right-0 bg-gradient-to-r from-slate-900/98 via-slate-800/98 to-slate-900/98 backdrop-blur-md border-t border-slate-700/50 shadow-2xl shadow-purple-500/5 safe-area-inset-bottom",children:e.jsx("form",{onSubmit:async e=>{if(e.preventDefault(),N.trim())try{D(!1),await r(N.trim()),k(""),z(!1)}catch(t){D(!0),C.error(t.message||"Failed to send message. Please try again.")}},className:"px-3 sm:px-6 py-2.5 sm:py-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto relative",children:[I&&e.jsx(R,{ref:y,query:N,onSelect:e=>{k(`/${e} `),z(!1),j.current?.focus()},onKeyDown:e=>{"Escape"===e.key&&(z(!1),j.current?.focus())}}),e.jsxs("div",{className:"flex items-end gap-2 sm:gap-3 bg-gradient-to-r from-slate-800/60 to-slate-700/60 rounded-xl sm:rounded-2xl p-2.5 sm:p-3 border border-slate-600/40 backdrop-blur-sm shadow-lg shadow-purple-500/5",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("textarea",{ref:j,value:N,onChange:e=>k(e.target.value),onKeyDown:async e=>{if(I&&y.current){if(y.current.handleExternalKeyDown(e))return void e.preventDefault()}if("Enter"===e.key&&!e.shiftKey){if(e.preventDefault(),!N.trim())return;if(I)return;try{D(!1),await r(N.trim()),k(""),z(!1)}catch(t){D(!0),C.error(t.message||"Failed to send message. Please try again.")}}"Escape"===e.key&&z(!1)},rows:1,placeholder:"Ask Labnex AI anything... (Type / for commands)",className:"w-full resize-none bg-transparent focus:outline-none text-slate-100 placeholder-slate-400 py-2 px-2.5 sm:px-3 rounded-lg sm:rounded-xl max-h-[100px] sm:max-h-[120px] text-sm sm:text-base leading-5 sm:leading-6",style:{minHeight:"40px",fontSize:"16px"}}),N.startsWith("/")&&e.jsxs("div",{className:"absolute right-2 top-2 text-xs text-purple-400 bg-purple-500/20 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded border border-purple-500/30",children:[e.jsx(T,{className:"h-3 w-3 inline mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Command"})]})]}),e.jsx("div",{className:""+(N.trim()?"hidden sm:block":"block"),children:e.jsx(u,{})}),e.jsx("button",{type:"submit",disabled:!N.trim()||l||o,className:`p-2.5 sm:p-3 ${M?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 active:from-red-800 active:to-red-900":"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 active:from-purple-800 active:to-indigo-800"} disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg sm:rounded-xl transition-all duration-200 disabled:hover:scale-100 hover:scale-105 active:scale-95 shadow-lg shadow-purple-500/20 border border-purple-500/30 min-w-[44px] min-h-[44px] sm:min-w-[48px] sm:min-h-[48px] flex items-center justify-center touch-manipulation`,title:M?"Retry sending message":"Send message (Enter)",children:e.jsx(g,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1.5 sm:mt-2 px-1 sm:px-2 text-xs text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsxs("span",{className:"hidden sm:inline",children:["Press ",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-700/50 rounded border border-slate-600/50",children:"Enter"})," to send"]}),e.jsxs("span",{className:"hidden md:inline",children:["Press ",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-700/50 rounded border border-slate-600/50",children:"Ctrl+Shift+V"})," for voice"]}),e.jsx("span",{className:"sm:hidden text-purple-400/70",children:"Tap send or press Enter"})]}),e.jsxs("span",{className:"text-purple-400/70 hidden xs:inline sm:hidden text-xs",children:[e.jsx("code",{children:"/"})," = cmd"]}),e.jsxs("span",{className:"text-purple-400/70 hidden sm:inline",children:["Type ",e.jsx("code",{children:"/"})," for commands"]})]})]})})}),e.jsx("style",{children:'\n        /* Mobile viewport optimizations */\n        @media (max-width: 640px) {\n          /* Prevent zoom on input focus for iOS */\n          input, textarea, select {\n            font-size: 16px !important;\n          }\n          \n          /* Smooth animations for mobile */\n          .animate-in {\n            animation: slideInFromTop 0.2s ease-out;\n          }\n          \n          /* Better touch targets */\n          button, [role="button"] {\n            min-height: 44px;\n            min-width: 44px;\n          }\n          \n          /* Improved scrolling */\n          .overflow-y-auto {\n            -webkit-overflow-scrolling: touch;\n            overflow-scrolling: touch;\n          }\n          \n          /* Remove iOS input styling */\n          input, textarea {\n            -webkit-appearance: none;\n            -moz-appearance: none;\n            appearance: none;\n            border-radius: 8px;\n          }\n        }\n        \n        /* Extra small screens (phones in portrait) */\n        @media (max-width: 380px) {\n          .max-w-[90%] {\n            max-width: 95% !important;\n          }\n          \n          .px-3 {\n            padding-left: 12px !important;\n            padding-right: 12px !important;\n          }\n          \n          .gap-3 {\n            gap: 8px !important;\n          }\n        }\n        \n        /* Landscape phone optimizations */\n        @media (max-width: 896px) and (orientation: landscape) {\n          .h-14 {\n            height: 48px !important;\n          }\n          \n          .py-3 {\n            padding-top: 8px !important;\n            padding-bottom: 8px !important;\n          }\n          \n          .max-h-[calc(100vh-56px)] {\n            max-height: calc(100vh - 48px) !important;\n          }\n        }\n        \n        @keyframes slideInFromTop {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        /* Mobile touch improvements */\n        @media (hover: none) and (pointer: coarse) {\n          button:hover {\n            background-color: inherit !important;\n            transform: none !important;\n          }\n          \n          button:active {\n            transform: scale(0.95) !important;\n            transition: transform 0.1s ease-in-out !important;\n          }\n          \n          /* Remove hover effects on touch devices */\n          .hover:bg-slate-700/50:hover {\n            background-color: inherit !important;\n          }\n          \n          .hover:text-purple-300:hover {\n            color: inherit !important;\n          }\n        }\n\n        /* Safe area support for iOS */\n        .safe-area-inset-bottom {\n          padding-bottom: max(8px, env(safe-area-inset-bottom));\n        }\n        \n        @supports (padding: max(0px)) {\n          .safe-area-inset-bottom {\n            padding-bottom: max(12px, env(safe-area-inset-bottom));\n          }\n        }\n\n        /* Ensure full mobile coverage */\n        @media (max-width: 640px) {\n          body {\n            padding: 0;\n            margin: 0;\n            overflow-x: hidden;\n          }\n          \n          #root {\n            padding: 0;\n            margin: 0;\n            max-width: 100vw;\n            overflow-x: hidden;\n          }\n          \n          /* Prevent horizontal scroll */\n          * {\n            max-width: 100%;\n            box-sizing: border-box;\n          }\n        }\n\n        /* High DPI displays */\n        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {\n          .shadow-lg {\n            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), \n                        0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;\n          }\n        }\n\n        /* Focus improvements for accessibility */\n        button:focus-visible, \n        textarea:focus-visible, \n        input:focus-visible {\n          outline: 2px solid rgb(168 85 247);\n          outline-offset: 2px;\n        }\n\n        /* Reduced motion support */\n        @media (prefers-reduced-motion: reduce) {\n          *, *::before, *::after {\n            animation-duration: 0.01ms !important;\n            animation-iteration-count: 1 !important;\n            transition-duration: 0.01ms !important;\n          }\n        }\n\n        /* Dark mode optimizations */\n        @media (prefers-color-scheme: dark) {\n          /* Already using dark theme, ensure consistency */\n          meta[name="theme-color"] {\n            content: "#0f172a";\n          }\n        }\n\n        /* Mobile keyboard spacing */\n        @media (max-width: 640px) {\n          .mobile-keyboard-space {\n            height: env(keyboard-inset-height, 0);\n          }\n        }\n      '}),_&&e.jsx(F,{onComplete:()=>H(!1),onSkip:()=>H(!1)})]})};export{_ as default};
