import{j as e}from"./markdown-core-J3SG-zFE.js";import{f as r,r as s,u as a}from"./router-W3ruk9z3.js";import{B as o}from"../assets/index-DzQGG0sq.js";import{I as t}from"./Input-Di4d9ysK.js";import{r as i}from"./auth-BQcWgYWT.js";import{c as n}from"./other-heavy-BrS_fVLY.js";import"./react-core-eVk5PToZ.js";import"./markdown-syntax-D_e3LpQv.js";import"./query-DQpHUI-d.js";import"./api-axios-ztdpVPaQ.js";import"./animations-framer-BqiiQv6P.js";import"./forms-hook-uaZDsLJv.js";import"./forms-resolvers-o9eYnsGV.js";import"./forms-zod-BHhVsmmU.js";function l(){const[l]=r(),d=l.get("token")||"",m=l.get("id")||"",[c,p]=s.useState(""),[x,f]=s.useState(""),[u,w]=s.useState(!1),h=a();return d&&m?e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[var(--lnx-bg)] dark:bg-gray-900 p-6",children:e.jsxs("div",{className:"max-w-md w-full bg-[var(--lnx-surface)] dark:bg-gray-800/70 dark:glassmorphic shadow-2xl rounded-xl p-8 space-y-6 border border-[var(--lnx-border)] dark:border-gray-700/50",children:[e.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900 dark:text-white",children:"Reset your password"}),e.jsxs("form",{className:"space-y-5",onSubmit:async e=>{if(e.preventDefault(),c.length<6)n.error("Password must be at least 6 characters");else if(c===x){w(!0);try{await i({token:d,id:m,password:c}),n.success("Password reset successful! You can now log in."),h("/login")}catch(r){n.error(r.response?.data?.message||"Failed to reset password")}finally{w(!1)}}else n.error("Passwords do not match")},children:[e.jsx(t,{id:"password",name:"password",type:"password",required:!0,label:"New password",value:c,onChange:e=>p(e.target.value),placeholder:"Enter new password"}),e.jsx(t,{id:"confirm",name:"confirm",type:"password",required:!0,label:"Confirm password",value:x,onChange:e=>f(e.target.value),placeholder:"Confirm new password"}),e.jsx(o,{variant:"primary",type:"submit",className:"w-full",isLoading:u,children:"Reset Password"})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--lnx-bg)] dark:bg-gray-900 p-6",children:e.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Invalid or expired reset link"}),e.jsx(o,{variant:"primary",to:"/login",children:"Back to login"})]})})}export{l as default};
